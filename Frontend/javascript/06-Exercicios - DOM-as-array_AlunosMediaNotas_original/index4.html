<!DOCTYPE html>
<html>

<head>
  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Import materialize.css-->
  <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />

  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style type="text/css">
    .underlined {
      border-bottom: 3px solid currentColor;
    }

    .reprovado{
        background-color: red;
    }

    .aprovado{
        background-color:green;
    }
  </style>
</head>

<body>

  <div class="container">

    <div class="hero center card-panel materialize-red darken-4 white-text z-depth-3">
      <h1 class="materialize-red-text text-lighten-3"> Curso Javascript Completo</h1>

    </div>
    <h2 class="materialize-red-text text-lighten-2 underlined">Dados de Alunos</h2>

    <table>
      <thead>
        <tr>
          <th>Nome</th>
          <th>Nota 1</th>
          <th>Nota 2</th>
          <th>Nota 3</th>
          <th>Nota 4</th>
          <th>Média</th>

        </tr>
      </thead>

      <tbody>
    
      </tbody>
    </table>
  </div>

  <!--JavaScript at end of body for optimized loading-->
  <!-- <script type="text/javascript" src="js/materialize.min.js"></script> -->
  <script src="js/calc.js"></script>

  <script>

    (function () {
        const alunos = [
            {nome: "Daniel", notas: [10, 3, 7.5, 3]},
            {nome: "Maria", notas: [9, 2, 5.5, 10]},
            {nome: "João", notas: [8, 5, 7.5, 6]},
            {nome: "Joana", notas: [7, 7, 8.5, 3.7]},
            {nome: "José", notas: [10, 8, 5, 6]},
            {nome: "Arnaldo", notas: [7, 10, 3, 5]},
            {nome: "Lucas", notas: [8, 4, 2, 10]},
            {nome: "Luana", notas: [10, 3, 2.9, 10]},
            {nome: "Beatriz", notas: [4, 2, 6.9, 6]},
            {nome: "Sergio", notas: [5, 8, 7, 8]}
        ]
      
    //Quando há apenas um parâmetro não há necessidade de colocá-lo entre parênteses
    alunos.forEach(aluno => {
        aluno.media = average(...aluno.notas)
    })

    const html = alunos.map(aluno => `  
        <tr class="${aluno.media < 6 ? "reprovado" : "aprovado"}">
          <td>${aluno.nome}</td>
          ${aluno.notas.map(nota => `<td>${nota}</td>`).join("")} 
          <td>${aluno.media}</td>
        </tr>
    `).join("")
    
    document.querySelector('tbody').innerHTML = html
        
   



    })()

  </script>
</body>

</html>